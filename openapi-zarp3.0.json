{"openapi":"3.0.2","info":{"title":"Fraude Zarp","description":"The purpose of the API is to calculate the fraude score","version":"1.0"},"paths":{"/modelo-fraude-zarp/v1/score":{"post":{"tags":["score"],"summary":"Endpoint returns the fraud score based on the trained model","description":"Endpoint receives data and returns the fraud score based on the statistic model","operationId":"Score_Zarp_Fraud_endpoint_modelo_fraude_zarp_v1_score_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Payload"}}},"required":true},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScoreFraudeZarp"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExceptionMessageModel"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExceptionMessageModel"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExceptionMessageModel"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/modelo-fraude-zarp/v1/health":{"get":{"tags":["health"],"summary":"Endpoint for health check - liveness and readiness probe","description":"Endpoint for health check - liveness and readiness probe","operationId":"Health_endpoint_modelo_fraude_zarp_v1_health_get","responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExceptionMessageModel"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExceptionMessageModel"}}}}}}}},"components":{"schemas":{"ExceptionMessageModel":{"title":"ExceptionMessageModel","required":["code","message"],"type":"object","properties":{"code":{"title":"Code","type":"string","description":"Código do erro."},"message":{"title":"Message","type":"string","description":"Mensagem de erro."}}},"Features":{"title":"Features","required":["hora_contrato","dia_da_semana","semana_contrato","vlr_transacao","qtd_contrato_anterior","media_entre_contratos","idade","valor_grupo_tarifario","perc_contratos_abertos","perc_contratos_fechados","perc_valor_transacao","vlr_pre_aut","perc_fraude_por_mes_estado","perc_fraude_por_mes_cidade","perc_fraude_por_semana_estado","aging_cadastro_min","aging_reserva_min","score_fraude_mercado","score_credito_positivo_mercado","score_fraude_datatrust","banco_unificado","idc_opc_cob_risco","cd_grupo_tarifario_agrup","cd_estado_retirada","cd_produto","sexo_y","idc_reserva","age_res_dia","age_res_hora","qtd_contratos_abertos_y","nom_aplicacao_criacao","lim_km","cd_tipo_pagamento_tarifa","idc_retencao"],"type":"object","properties":{"hora_contrato":{"title":"Hora Contrato","type":"integer","description":"Hora em que o contrato foi aberto."},"dia_da_semana":{"title":"Dia Da Semana","type":"integer","description":"Numero do dia da semana em que o contrato foi aberto(0 - 6)."},"semana_contrato":{"title":"Semana Contrato","type":"integer","description":"Numero da semana em que o contrato foi aberto(0 - 52)."},"vlr_transacao":{"title":"Vlr Transacao","type":"number","description":"valor da transação."},"qtd_contrato_anterior":{"title":"Qtd Contrato Anterior","type":"integer","description":"Total de contratos anteriores."},"media_entre_contratos":{"title":"Media Entre Contratos","type":"number","description":"Tempo médio entre as datas de abertura de contratos."},"idade":{"title":"Idade","type":"integer","description":"Idade no momento da abertura do contrato."},"valor_grupo_tarifario":{"title":"Valor Grupo Tarifario","type":"number","description":"Valor médio de compra dos carros que foram alugados naquele grupo tarifário no ano anterior."},"perc_contratos_abertos":{"title":"Perc Contratos Abertos","type":"number","description":"Contratos anteriores em aberto / Total de contratos anteriores."},"perc_contratos_fechados":{"title":"Perc Contratos Fechados","type":"number","description":"Contratos anteriores fechados / Total de contratos anteriores."},"perc_valor_transacao":{"title":"Perc Valor Transacao","type":"number","description":"Valor da transação / Valor médio dos carros daquele grupo tarifário."},"vlr_pre_aut":{"title":"Vlr Pre Aut","type":"number","description":"Valor da pré autorização. Recebe nulo se for pré - pagamento."},"perc_fraude_por_mes_estado":{"title":"Perc Fraude Por Mes Estado","type":"number","description":"Percentual de fraude no estado de retirada naquela mesmo mes do ano anterior."},"perc_fraude_por_mes_cidade":{"title":"Perc Fraude Por Mes Cidade","type":"number","description":"Percentual de fraude no cidade de retirada naquela mesmo mes do ano anterior."},"perc_fraude_por_semana_estado":{"title":"Perc Fraude Por Semana Estado","type":"number","description":"Percentual de fraude no estado de retirada naquela mesma semana do ano anterior."},"aging_cadastro_min":{"title":"Aging Cadastro Min","type":"integer","description":"Tempo em minutos da abertura do cadastro até a aertura do contrato."},"aging_reserva_min":{"title":"Aging Reserva Min","type":"integer","description":"Tempo em minutos da criação da reserva até a aertura do contrato."},"score_fraude_mercado":{"title":"Score Fraude Mercado","type":"number","description":"Score de fraude serasa (negativo)."},"score_credito_positivo_mercado":{"title":"Score Credito Positivo Mercado","type":"number","description":"Score de credito serasa."},"score_fraude_datatrust":{"title":"Score Fraude Datatrust","type":"number","description":"Score datatrust de fraude da Clearsale."},"banco_unificado":{"title":"Banco Unificado","type":"string","description":"Banco relacionado ao cartão utilizado."},"idc_opc_cob_risco":{"title":"Idc Opc Cob Risco","type":"integer","description":"Código do opcional de cobertura de risco."},"cd_grupo_tarifario_agrup":{"title":"Cd Grupo Tarifario Agrup","type":"string","description":"Agrupamento de grupos tarifários"},"cd_estado_retirada":{"title":"Cd Estado Retirada","type":"string","description":"código uf da agencia de retirada."},"cd_produto":{"title":"Cd Produto","type":"string","description":"Código do produto"},"sexo_y":{"title":"Sexo Y","type":"string","description":"Sexo: M / F"},"idc_reserva":{"title":"Idc Reserva","type":"integer","description":"Se houve reserva ou não. 0: não1: sim"},"age_res_dia":{"title":"Age Res Dia","type":"integer","description":"Quantidade de dias em periodo de reserva"},"age_res_hora":{"title":"Age Res Hora","type":"number","description":"Quantidade de horas em periodo de reserva"},"qtd_contratos_abertos_y":{"title":"Qtd Contratos Abertos Y","type":"integer","description":"Contratos anteriores em aberto."},"nom_aplicacao_criacao":{"title":"Nom Aplicacao Criacao","type":"string","description":"Nome da aplicação de criação"},"lim_km":{"title":"Lim Km","type":"string","description":"Limite de Km da tarifa"},"cd_tipo_pagamento_tarifa":{"title":"Cd Tipo Pagamento Tarifa","type":"string","description":"Codigo do tipo de pagamento da tarifa"},"idc_retencao":{"title":"Idc Retencao","type":"string","description":"Retenção. Sim ou Não"}}},"HTTPValidationError":{"title":"HTTPValidationError","type":"object","properties":{"detail":{"title":"Detail","type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"Payload":{"title":"Payload","required":["bin","idc_opc_cob_risco","cd_grupo_tarifario","data_abertura_contrato","data_abertura_reserva","data_cadastro_cliente","qtd_contrato_anterior","qtd_contratos_abertos","qtd_contratos_fechados","vlr_transacao","tipo_transacao","idade","media_entre_contratos","cd_cidade_retirada","cd_estado_retirada","day_of_week","sexo"],"type":"object","properties":{"bin":{"title":"Bin","type":"string"},"idc_opc_cob_risco":{"title":"Idc Opc Cob Risco","type":"integer"},"cd_grupo_tarifario":{"title":"Cd Grupo Tarifario","type":"string"},"data_abertura_contrato":{"title":"Data Abertura Contrato","type":"string","format":"date-time"},"data_abertura_reserva":{"title":"Data Abertura Reserva","type":"string","format":"date-time"},"data_cadastro_cliente":{"title":"Data Cadastro Cliente","type":"string","format":"date-time"},"score_fraude_mercado":{"title":"Score Fraude Mercado","type":"number"},"score_credito_positivo_mercado":{"title":"Score Credito Positivo Mercado","type":"number"},"qtd_contrato_anterior":{"title":"Qtd Contrato Anterior","type":"integer"},"qtd_contratos_abertos":{"title":"Qtd Contratos Abertos","type":"integer"},"qtd_contratos_fechados":{"title":"Qtd Contratos Fechados","type":"integer"},"vlr_transacao":{"title":"Vlr Transacao","type":"number"},"tipo_transacao":{"title":"Tipo Transacao","type":"integer"},"idade":{"title":"Idade","type":"integer"},"media_entre_contratos":{"title":"Media Entre Contratos","type":"number"},"cd_cidade_retirada":{"title":"Cd Cidade Retirada","type":"string"},"cd_estado_retirada":{"title":"Cd Estado Retirada","type":"string"},"day_of_week":{"title":"Day Of Week","type":"string"},"cd_tarifa":{"title":"Cd Tarifa","type":"number"},"sexo":{"title":"Sexo","type":"string"},"nom_sistema":{"title":"Nom Sistema","type":"string"},"score_fraude_datatrust":{"title":"Score Fraude Datatrust","type":"number"}}},"ScoreFraudeZarp":{"title":"ScoreFraudeZarp","required":["score_fraude","variaveis_usadas_no_modelo"],"type":"object","properties":{"score_fraude":{"title":"Score de Fraude do cliente Zarp","type":"number","description":"Valor predito pelo modelo de fraude em zarp"},"variaveis_usadas_no_modelo":{"title":"Features usadas na predição","allOf":[{"$ref":"#/components/schemas/Features"}],"description":"Features utilizadas pelo modelo de fraude zarp"}}},"ValidationError":{"title":"ValidationError","required":["loc","msg","type"],"type":"object","properties":{"loc":{"title":"Location","type":"array","items":{"type":"string"}},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}}}}}}